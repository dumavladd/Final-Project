{% extends 'base.html' %}
{% load static %}
{% block title %} Team {% endblock %}

{% block content %}
    <html>
    <head>
        <br>
        <title>🎮Interactive Game🎮</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                text-align: center;
            }

            #game-container {
                position: relative;
                width: 400px;
                height: 400px;
                margin: 0 auto;
                border: 1px solid #000;
            }

            #target {
                position: absolute;
                width: 50px;
                height: 50px;
                background-color: red;
                cursor: pointer;
            }

            #score {
                font-size: 24px;
                margin-top: 20px;
            }
        </style>
    </head>
    <body>
    <h1>🎮Interactive Game🎮</h1>
    <p>Click on the target to collect points in 20 seconds:❗️❗️❗️</p>
    <div id="game-container">
        <div id="target"></div>
    </div>
    <p id="score">Scores: 0</p>

    <script>
        let score = 0;
        let timeLeft = 20; // Timpul rămas în secunde

        const target = document.getElementById('target');
        const scoreDisplay = document.getElementById('score');

        // Funcția pentru a genera o poziție aleatorie a țintei
        function randomPosition() {
            const maxWidth = 350; // (400 - 50) pentru a se încadra în container
            const maxHeight = 350; // (400 - 50) pentru a se încadra în container
            const x = Math.random() * maxWidth;
            const y = Math.random() * maxHeight;
            target.style.left = x + 'px';
            target.style.top = y + 'px';
        }

        // Funcția pentru a mări punctajul și a genera o nouă poziție pentru țintă
        function hitTarget() {
            score++;
            scoreDisplay.textContent = 'Punctaj: ' + score;
            randomPosition();
        }

        // Actualizează timpul rămas
        function updateTimer() {
            if (timeLeft > 0) {
                timeLeft--;
                setTimeout(updateTimer, 1000); // Apelează din nou funcția după 1 secundă
            } else {
                alert('Timpul s-a scurs! Punctajul tău este: ' + score);
            }
        }

        // Adaugă eveniment de clic pentru țintă
        target.addEventListener('click', hitTarget);

        // Porniți jocul generând o poziție inițială a țintei
        randomPosition();
        updateTimer();
    </script>
    </body>
    {% include 'footer.html' %}
{% endblock %}